<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vm="using:BiaogeCSharp.ViewModels"
             xmlns:controls="using:BiaogeCSharp.Controls"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:DataType="vm:TranslationViewModel"
             x:Class="BiaogeCSharp.Views.TranslationPage">

    <ScrollViewer Background="#1E1E1E">
        <StackPanel Margin="20">
            <!-- 卡片1: 语言选择 -->
            <controls:CardWidget Title="选择目标语言">
                <controls:CardWidget.CardContent>
                    <StackPanel Spacing="10">
                        <TextBlock Text="目标语言" Foreground="White" FontSize="14" Margin="0,0,0,5"/>
                        <ComboBox SelectedIndex="0" MinWidth="200" FontSize="14">
                            <ComboBoxItem Content="英语" Tag="en"/>
                            <ComboBoxItem Content="日语" Tag="ja"/>
                            <ComboBoxItem Content="韩语" Tag="ko"/>
                            <ComboBoxItem Content="法语" Tag="fr"/>
                            <ComboBoxItem Content="德语" Tag="de"/>
                            <ComboBoxItem Content="西班牙语" Tag="es"/>
                            <ComboBoxItem Content="俄语" Tag="ru"/>
                            <ComboBoxItem Content="阿拉伯语" Tag="ar"/>
                        </ComboBox>

                        <TextBlock Text="翻译模式" Foreground="White" FontSize="14" Margin="0,15,0,5"/>
                        <ComboBox SelectedIndex="0" MinWidth="200" FontSize="14">
                            <ComboBoxItem Content="标准翻译"/>
                            <ComboBoxItem Content="专业术语优先"/>
                            <ComboBoxItem Content="保留原文格式"/>
                        </ComboBox>
                    </StackPanel>
                </controls:CardWidget.CardContent>
            </controls:CardWidget>

            <!-- 卡片2: 翻译控制 -->
            <controls:CardWidget Title="翻译控制">
                <controls:CardWidget.CardContent>
                    <StackPanel Spacing="15">
                        <!-- 操作按钮 -->
                        <Grid ColumnDefinitions="*,*" ColumnSpacing="10">
                            <Button Grid.Column="0"
                                    Content="开始翻译"
                                    Command="{Binding StartTranslationCommand}"
                                    IsEnabled="{Binding !IsTranslating}"
                                    FontSize="14"
                                    Height="36"
                                    HorizontalAlignment="Stretch"
                                    Background="#0078D4"
                                    Foreground="White"
                                    BorderThickness="0"
                                    CornerRadius="4">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#1F8FE8"/>
                                    </Style>
                                    <Style Selector="Button:disabled">
                                        <Setter Property="Background" Value="#3E3E42"/>
                                        <Setter Property="Opacity" Value="0.5"/>
                                    </Style>
                                </Button.Styles>
                            </Button>

                            <Button Grid.Column="1"
                                    Content="停止翻译"
                                    IsEnabled="{Binding IsTranslating}"
                                    FontSize="14"
                                    Height="36"
                                    HorizontalAlignment="Stretch"
                                    Background="#3E3E42"
                                    Foreground="White"
                                    BorderThickness="0"
                                    CornerRadius="4">
                                <Button.Styles>
                                    <Style Selector="Button:pointerover">
                                        <Setter Property="Background" Value="#505050"/>
                                    </Style>
                                    <Style Selector="Button:disabled">
                                        <Setter Property="Opacity" Value="0.5"/>
                                    </Style>
                                </Button.Styles>
                            </Button>
                        </Grid>

                        <!-- 进度条 -->
                        <ProgressBar Value="{Binding Progress}"
                                    Maximum="100"
                                    Height="6"
                                    IsVisible="{Binding IsTranslating}"
                                    Foreground="#0078D4"
                                    Background="#3E3E42"/>

                        <!-- 状态文本 -->
                        <TextBlock Text="{Binding StatusText}"
                                  Foreground="White"
                                  FontSize="14"
                                  TextAlignment="Center"/>
                    </StackPanel>
                </controls:CardWidget.CardContent>
            </controls:CardWidget>

            <!-- 卡片3: 翻译统计 -->
            <controls:CardWidget Title="翻译统计">
                <controls:CardWidget.CardContent>
                    <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto" RowSpacing="10">
                        <!-- 总文本数 -->
                        <Grid Grid.Row="0" ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0" Text="总文本数" Foreground="#CCCCCC" FontSize="14"/>
                            <TextBlock Grid.Column="1" Text="0" Foreground="White" FontSize="14" FontWeight="SemiBold"/>
                        </Grid>

                        <!-- 已翻译 -->
                        <Grid Grid.Row="1" ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0" Text="已翻译" Foreground="#CCCCCC" FontSize="14"/>
                            <TextBlock Grid.Column="1" Text="0" Foreground="#0F7B0F" FontSize="14" FontWeight="SemiBold"/>
                        </Grid>

                        <!-- 缓存命中 -->
                        <Grid Grid.Row="2" ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0" Text="缓存命中" Foreground="#CCCCCC" FontSize="14"/>
                            <TextBlock Grid.Column="1" Text="0" Foreground="#0078D4" FontSize="14" FontWeight="SemiBold"/>
                        </Grid>

                        <!-- 跳过的 -->
                        <Grid Grid.Row="3" ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0" Text="跳过的" Foreground="#CCCCCC" FontSize="14"/>
                            <TextBlock Grid.Column="1" Text="0" Foreground="#9D5D00" FontSize="14" FontWeight="SemiBold"/>
                        </Grid>

                        <!-- 失败的 -->
                        <Grid Grid.Row="4" ColumnDefinitions="*,Auto">
                            <TextBlock Grid.Column="0" Text="失败的" Foreground="#CCCCCC" FontSize="14"/>
                            <TextBlock Grid.Column="1" Text="0" Foreground="#C42B1C" FontSize="14" FontWeight="SemiBold"/>
                        </Grid>
                    </Grid>
                </controls:CardWidget.CardContent>
            </controls:CardWidget>
        </StackPanel>
    </ScrollViewer>
</UserControl>
