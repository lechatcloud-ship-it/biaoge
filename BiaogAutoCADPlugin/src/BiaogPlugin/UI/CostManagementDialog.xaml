<Window x:Class="BiaogPlugin.UI.CostManagementDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="æˆæœ¬ç®¡ç† - æ ‡å“¥æ’ä»¶" Height="650" Width="800"
        WindowStartupLocation="CenterScreen"
        Topmost="True"
        Background="#1E1E1E">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <TabControl Grid.Row="0">
            <!-- âš ï¸ é‡è¦è¯´æ˜Ž Tab -->
            <TabItem Header="âš ï¸ é‡è¦è¯´æ˜Ž">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="15">
                        <TextBlock Text="âš ï¸ æˆæœ¬ä¼°ç®—åŠŸèƒ½é‡è¦è¯´æ˜Ž" FontSize="18"
                                   FontWeight="Bold" Foreground="#FF6B6B" Margin="0,0,0,20"/>

                        <Border Background="#2D2D30" Padding="15" CornerRadius="5" Margin="0,0,0,15">
                            <StackPanel>
                                <TextBlock Text="ä¸ºä»€ä¹ˆæˆæœ¬ä¼°ç®—é»˜è®¤å…³é—­ï¼Ÿ" FontSize="14" FontWeight="Bold"
                                           Foreground="White" Margin="0,0,0,10"/>
                                <TextBlock TextWrapping="Wrap" Foreground="#CCCCCC" LineHeight="22">
                                    <Run Text="1. âŒ ä¸­å›½æ— å…¬å¼€å·¥ç¨‹é€ ä»·API"/><LineBreak/>
                                    <Run Text="   æ²¡æœ‰ä»»ä½•å…è´¹çš„ã€å…¬å¼€çš„APIå¯ä»¥èŽ·å–å®žæ—¶å·¥ç¨‹é€ ä»·æ•°æ®ã€‚"/><LineBreak/><LineBreak/>
                                    <Run Text="2. ðŸ“Š åœ°åŒºå·®å¼‚å·¨å¤§ï¼ˆ30-50%ï¼‰"/><LineBreak/>
                                    <Run Text="   â€¢ åŒ—äº¬/ä¸Šæµ·ï¼šC30æ··å‡åœŸ 550-600å…ƒ/mÂ³"/><LineBreak/>
                                    <Run Text="   â€¢ æˆéƒ½/è¥¿å®‰ï¼šC30æ··å‡åœŸ 450-500å…ƒ/mÂ³"/><LineBreak/>
                                    <Run Text="   â€¢ æ˜†æ˜Ž/è´µé˜³ï¼šC30æ··å‡åœŸ 380-420å…ƒ/mÂ³"/><LineBreak/><LineBreak/>
                                    <Run Text="3. ðŸ“ˆ ä»·æ ¼éšå¸‚åœºæ³¢åŠ¨"/><LineBreak/>
                                    <Run Text="   å»ºæä»·æ ¼å—å¸‚åœºå½±å“ï¼Œæ¯æœˆéƒ½å¯èƒ½å˜åŒ–ï¼Œéœ€å®šæœŸæ›´æ–°ã€‚"/><LineBreak/><LineBreak/>
                                    <Run Text="4. âš–ï¸ æ³•å¾‹è´£ä»»"/><LineBreak/>
                                    <Run Text="   æ­£å¼é¢„ç®—å¿…é¡»ä½¿ç”¨å½“åœ°å®šé¢å’Œé€ ä»·å’¨è¯¢èµ„è´¨å•ä½å‡ºå…·çš„æŠ¥å‘Šã€‚"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>

                        <Border Background="#3E3E42" Padding="15" CornerRadius="5" Margin="0,0,0,15">
                            <StackPanel>
                                <TextBlock Text="å¦‚ä½•ä½¿ç”¨æˆæœ¬ä¼°ç®—åŠŸèƒ½ï¼Ÿ" FontSize="14" FontWeight="Bold"
                                           Foreground="White" Margin="0,0,0,10"/>
                                <TextBlock TextWrapping="Wrap" Foreground="#CCCCCC" LineHeight="22">
                                    <Run Text="âœ… æ­¥éª¤1ï¼šèŽ·å–æœ¬åœ°ä»·æ ¼æ•°æ®"/><LineBreak/>
                                    <Run Text="   è®¿é—®å½“åœ°å·¥ç¨‹é€ ä»·ä¿¡æ¯ç½‘ï¼ˆå¦‚ï¼šåŒ—äº¬é€ ä»·ä¿¡æ¯ç½‘ã€ä¸Šæµ·å·¥ç¨‹é€ ä»·ä¿¡æ¯ç½‘ï¼‰"/><LineBreak/><LineBreak/>
                                    <Run Text="âœ… æ­¥éª¤2ï¼šç¼–è¾‘ä»·æ ¼æ•°æ®åº“"/><LineBreak/>
                                    <Run Text="   ç‚¹å‡»ã€æ‰“å¼€ä»·æ ¼æ•°æ®åº“æ–‡ä»¶ã€‘æŒ‰é’®ï¼Œç”¨è®°äº‹æœ¬/VS Codeç¼–è¾‘JSONæ–‡ä»¶"/><LineBreak/><LineBreak/>
                                    <Run Text="âœ… æ­¥éª¤3ï¼šå¯ç”¨æˆæœ¬ä¼°ç®—"/><LineBreak/>
                                    <Run Text="   åœ¨ã€åŸºæœ¬è®¾ç½®ã€‘æ ‡ç­¾é¡µä¸­å‹¾é€‰ã€å¯ç”¨æˆæœ¬ä¼°ç®—ã€‘"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>

                        <Border Background="#2D2D30" Padding="15" CornerRadius="5">
                            <StackPanel>
                                <TextBlock Text="æŽ¨èçš„ä»·æ ¼æ•°æ®æ¥æº" FontSize="14" FontWeight="Bold"
                                           Foreground="White" Margin="0,0,0,10"/>
                                <TextBlock TextWrapping="Wrap" Foreground="#CCCCCC" LineHeight="22">
                                    <Run Text="ðŸ“Œ å®˜æ–¹æ¸ é“ï¼ˆå…è´¹ï¼‰"/><LineBreak/>
                                    <Run Text="   â€¢ å„çœå¸‚å·¥ç¨‹é€ ä»·ä¿¡æ¯ç½‘"/><LineBreak/>
                                    <Run Text="   â€¢ å„åœ°å»ºè®¾å·¥ç¨‹å®šé¢ç«™"/><LineBreak/>
                                    <Run Text="   â€¢ ä¸­å›½å»ºè®¾å·¥ç¨‹é€ ä»·ç®¡ç†åä¼š"/><LineBreak/><LineBreak/>
                                    <Run Text="ðŸ’¼ å•†ä¸šå¹³å°ï¼ˆä»˜è´¹ï¼‰"/><LineBreak/>
                                    <Run Text="   â€¢ é€ ä»·é€šï¼ˆwww.zjtcn.comï¼‰"/><LineBreak/>
                                    <Run Text="   â€¢ å¹¿è”è¾¾äº‘é€ ä»·"/><LineBreak/>
                                    <Run Text="   â€¢ é²ç­é€ ä»·"/><LineBreak/><LineBreak/>
                                    <Run Text="âš ï¸ å…è´£å£°æ˜Ž"/><LineBreak/>
                                    <Run Text="   æ’ä»¶æä¾›çš„å‚è€ƒä»·æ ¼ä»…ä¾›ç²—ç•¥ä¼°ç®—ï¼Œç”¨æˆ·éœ€è‡ªè¡Œæ ¸å®žä»·æ ¼å‡†ç¡®æ€§ã€‚"/>
                                    <Run Text="   æ’ä»¶å¼€å‘è€…ä¸å¯¹ä¼°ç®—ç»“æžœçš„å‡†ç¡®æ€§æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚"/>
                                </TextBlock>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- åŸºæœ¬è®¾ç½® Tab -->
            <TabItem Header="åŸºæœ¬è®¾ç½®">
                <StackPanel Margin="15">
                    <TextBlock Text="æˆæœ¬ä¼°ç®—é…ç½®" FontSize="16" FontWeight="Bold"
                               Foreground="White" Margin="0,0,0,15"/>

                    <CheckBox x:Name="EnableCostCheckBox" Content="å¯ç”¨æˆæœ¬ä¼°ç®—ï¼ˆé»˜è®¤å…³é—­ï¼‰"
                              Foreground="#CCCCCC" Margin="0,0,0,10" FontSize="14"
                              Checked="EnableCostCheckBox_Changed"
                              Unchecked="EnableCostCheckBox_Changed"/>
                    <TextBlock Text="âš ï¸ å¯ç”¨å‰è¯·ç¡®ä¿å·²ç†è§£ä¸Šè¿°é‡è¦è¯´æ˜Žï¼Œå¹¶è‡ªè¡Œç»´æŠ¤ä»·æ ¼æ•°æ®"
                               Foreground="#FF6B6B" FontSize="11" Margin="20,0,0,20"/>

                    <TextBlock Text="å½“å‰åœ°åŒº:" Foreground="#CCCCCC" Margin="0,10,0,5"/>
                    <ComboBox x:Name="RegionComboBox" Height="30" Margin="0,0,0,10">
                        <ComboBoxItem Content="åŽåŒ—ï¼ˆåŒ—äº¬ã€å¤©æ´¥ã€æ²³åŒ—ã€å±±è¥¿ã€å†…è’™å¤ï¼‰" Tag="åŽåŒ—"/>
                        <ComboBoxItem Content="åŽä¸œï¼ˆä¸Šæµ·ã€æ±Ÿè‹ã€æµ™æ±Ÿã€å®‰å¾½ã€ç¦å»ºã€æ±Ÿè¥¿ã€å±±ä¸œï¼‰" Tag="åŽä¸œ" IsSelected="True"/>
                        <ComboBoxItem Content="åŽå—ï¼ˆå¹¿ä¸œã€å¹¿è¥¿ã€æµ·å—ï¼‰" Tag="åŽå—"/>
                        <ComboBoxItem Content="åŽä¸­ï¼ˆæ²³å—ã€æ¹–åŒ—ã€æ¹–å—ï¼‰" Tag="åŽä¸­"/>
                        <ComboBoxItem Content="è¥¿å—ï¼ˆé‡åº†ã€å››å·ã€è´µå·žã€äº‘å—ã€è¥¿è—ï¼‰" Tag="è¥¿å—"/>
                        <ComboBoxItem Content="è¥¿åŒ—ï¼ˆé™•è¥¿ã€ç”˜è‚ƒã€é’æµ·ã€å®å¤ã€æ–°ç–†ï¼‰" Tag="è¥¿åŒ—"/>
                        <ComboBoxItem Content="ä¸œåŒ—ï¼ˆè¾½å®ã€å‰æž—ã€é»‘é¾™æ±Ÿï¼‰" Tag="ä¸œåŒ—"/>
                    </ComboBox>
                    <TextBlock Text="ðŸ’¡ é€‰æ‹©é¡¹ç›®æ‰€åœ¨åœ°åŒºï¼Œä»¥ä¾¿æé†’ä»·æ ¼å·®å¼‚"
                               Foreground="#888" FontSize="11" Margin="0,0,0,15"/>

                    <CheckBox x:Name="ShowWarningCheckBox" Content="æ˜¾ç¤ºæˆæœ¬ä¼°ç®—è­¦å‘Š"
                              IsChecked="True" Foreground="#CCCCCC" Margin="0,10,0,10"/>
                    <TextBlock Text="æ¯æ¬¡è®¡ç®—æ—¶æé†’ç”¨æˆ·ä»·æ ¼ä»…ä¾›å‚è€ƒ"
                               Foreground="#888" FontSize="11" Margin="20,0,0,15"/>

                    <TextBlock Text="ä»·æ ¼æ•°æ®æ¥æºï¼ˆé€‰å¡«ï¼‰:" Foreground="#CCCCCC" Margin="0,10,0,5"/>
                    <TextBox x:Name="DataSourceTextBox" Height="30" Margin="0,0,0,5"
                             Background="#2D2D30" Foreground="White" BorderBrush="#3E3E42"/>
                    <TextBlock Text="ä¾‹å¦‚ï¼šåŒ—äº¬é€ ä»·ä¿¡æ¯ç½‘ 2025å¹´1æœˆä»·æ ¼"
                               Foreground="#888" FontSize="11" Margin="0,0,0,15"/>

                    <TextBlock Text="æœ€åŽæ›´æ–°æ—¥æœŸ:" Foreground="#CCCCCC" Margin="0,10,0,5"/>
                    <DatePicker x:Name="LastUpdateDatePicker" Height="30" Margin="0,0,0,5"/>
                </StackPanel>
            </TabItem>

            <!-- ä»·æ ¼æ•°æ®åº“ Tab -->
            <TabItem Header="ä»·æ ¼æ•°æ®åº“">
                <StackPanel Margin="15">
                    <TextBlock Text="ä»·æ ¼æ•°æ®åº“ç®¡ç†" FontSize="16" FontWeight="Bold"
                               Foreground="White" Margin="0,0,0,15"/>

                    <Border Background="#2D2D30" Padding="15" CornerRadius="5" Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="æ•°æ®åº“ä¿¡æ¯" FontSize="14" FontWeight="Bold"
                                       Foreground="White" Margin="0,0,0,10"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Text="ç‰ˆæœ¬:" Foreground="#CCCCCC" Margin="0,0,0,5"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" x:Name="VersionText" Foreground="White" Margin="0,0,0,5"/>

                                <TextBlock Grid.Row="1" Grid.Column="0" Text="æ•°æ®æ¥æº:" Foreground="#CCCCCC" Margin="0,5,0,5"/>
                                <TextBlock Grid.Row="1" Grid.Column="1" x:Name="DataSourceInfoText" Foreground="White"
                                           TextWrapping="Wrap" Margin="0,5,0,5"/>

                                <TextBlock Grid.Row="2" Grid.Column="0" Text="åœ°åŒºå·®å¼‚:" Foreground="#CCCCCC" Margin="0,5,0,5"/>
                                <TextBlock Grid.Row="2" Grid.Column="1" x:Name="RegionalVariationText" Foreground="#FF6B6B"
                                           TextWrapping="Wrap" Margin="0,5,0,5"/>

                                <TextBlock Grid.Row="3" Grid.Column="0" Text="APIå¯ç”¨æ€§:" Foreground="#CCCCCC" Margin="0,5,0,5"/>
                                <TextBlock Grid.Row="3" Grid.Column="1" x:Name="ApiAvailabilityText" Foreground="#FF6B6B"
                                           TextWrapping="Wrap" Margin="0,5,0,5"/>

                                <TextBlock Grid.Row="4" Grid.Column="0" Text="ä»·æ ¼é¡¹æ•°é‡:" Foreground="#CCCCCC" Margin="0,5,0,5"/>
                                <TextBlock Grid.Row="4" Grid.Column="1" x:Name="PriceCountText" Foreground="White" Margin="0,5,0,5"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                        <Button x:Name="OpenDatabaseButton" Content="ðŸ“‚ æ‰“å¼€ä»·æ ¼æ•°æ®åº“æ–‡ä»¶" Width="200" Height="40"
                                Click="OpenDatabaseButton_Click"
                                Background="#0078D4" Foreground="White" BorderThickness="0" Margin="0,0,10,0"/>
                        <Button x:Name="ReloadDatabaseButton" Content="ðŸ”„ é‡æ–°åŠ è½½æ•°æ®åº“" Width="180" Height="40"
                                Click="ReloadDatabaseButton_Click"
                                Background="#3E3E42" Foreground="White" BorderThickness="0"/>
                    </StackPanel>

                    <TextBlock Text="ðŸ’¡ ç¼–è¾‘æç¤º" FontSize="14" FontWeight="Bold"
                               Foreground="White" Margin="0,10,0,10"/>
                    <TextBlock TextWrapping="Wrap" Foreground="#CCCCCC" LineHeight="20">
                        <Run Text="â€¢ ä½¿ç”¨VS Codeæˆ–è®°äº‹æœ¬ç¼–è¾‘JSONæ–‡ä»¶"/><LineBreak/>
                        <Run Text="â€¢ ä¿å­˜åŽç‚¹å‡»ã€é‡æ–°åŠ è½½æ•°æ®åº“ã€‘æŒ‰é’®åº”ç”¨æ›´æ”¹"/><LineBreak/>
                        <Run Text="â€¢ æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰é…ç½®ï¼šå¤åˆ¶æ–‡ä»¶åˆ° ~/.biaoge/cost-database.json"/><LineBreak/>
                        <Run Text="â€¢ JSONæ ¼å¼ç¤ºä¾‹ï¼š"/><LineBreak/>
                        <Run Text='  "C30æ··å‡åœŸæŸ±": { "unit": "mÂ³", "price": 500.00, "description": "..." }'/>
                    </TextBlock>

                    <Border Background="#3E3E42" Padding="15" CornerRadius="5" Margin="0,15,0,0">
                        <StackPanel>
                            <TextBlock Text="âš ï¸ åœ°åŒºä»·æ ¼å‚è€ƒ" FontSize="12" FontWeight="Bold"
                                       Foreground="#FF6B6B" Margin="0,0,0,10"/>
                            <TextBlock x:Name="RegionalPriceExamplesText" TextWrapping="Wrap"
                                       Foreground="#CCCCCC" FontSize="11" LineHeight="18"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </TabItem>

            <!-- å¯¼å…¥å¯¼å‡º Tab (æœªæ¥åŠŸèƒ½) -->
            <TabItem Header="å¯¼å…¥å¯¼å‡º" IsEnabled="False">
                <StackPanel Margin="15" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="ðŸš§ åŠŸèƒ½å¼€å‘ä¸­" FontSize="18" FontWeight="Bold"
                               Foreground="#888" HorizontalAlignment="Center" Margin="0,0,0,15"/>
                    <TextBlock Text="å³å°†æ”¯æŒï¼š" Foreground="#CCCCCC" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="â€¢ Excelæ ¼å¼å¯¼å…¥ä»·æ ¼æ•°æ®" Foreground="#888" HorizontalAlignment="Center"/>
                    <TextBlock Text="â€¢ Excelæ ¼å¼å¯¼å‡ºä»·æ ¼æ•°æ®" Foreground="#888" HorizontalAlignment="Center"/>
                    <TextBlock Text="â€¢ å¤šåœ°åŒºä»·æ ¼é›†ç®¡ç†" Foreground="#888" HorizontalAlignment="Center"/>
                </StackPanel>
            </TabItem>
        </TabControl>

        <!-- åº•éƒ¨æŒ‰é’® -->
        <StackPanel Grid.Row="1" Orientation="Horizontal"
                    HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button x:Name="SaveButton" Content="ä¿å­˜" Width="100" Height="35"
                    Margin="0,0,10,0" Click="SaveButton_Click"
                    Background="#0078D4" Foreground="White" BorderThickness="0"/>
            <Button x:Name="CancelButton" Content="å–æ¶ˆ" Width="100" Height="35"
                    Click="CancelButton_Click"
                    Background="#3E3E42" Foreground="White" BorderThickness="0"/>
        </StackPanel>
    </Grid>
</Window>
